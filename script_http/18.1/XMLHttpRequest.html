<!-- 使用XMLHttpRequest -->
<!DOCTYPE html>
<html>
<body>
	<p>XMLHttpRequest</p>
</body>

<script type="text/javascript">
	// var request = new XMLHttpRequest();
	// console.log(request);

	// request.open('GET', './XMLHttpRequestStaticFile.html');
	// request.send(null);

	function postMessage(msg) {
		var request = new XMLHttpRequest();
		request.open("POST", "../../server.js");
		request.setRequestHeader("Content-Type", "text/plain;charset=UTF-8");
		request.send(msg);
	}
	
	// postMessage('me');


	function getText(url, callback) {
		var request = new XMLHttpRequest();
		request.open("GET", url);
		request.onreadystatechange = function() {
			if (request.readyState === 4 && request.status === 200) {
				var type = request.getResponseHeader("Content-Type");
				if (type.match(/^text/))
					callback(request.responseText);
			}
		};

		request.send(null);
	}

	getText('./XMLHttpRequestStaticFile.html', function(text) {
		console.log(text);
	});

	getText('./testText', function(text) {
		console.log(text);
	});



</script>

</html>

































