<!DOCTYPE html>
<html>
<body>
</body>

<script type="text/javascript">
	var p = {
		x: 1,
		y: 1,
		get r() {
			return Math.sqrt(this.x*this.x + this.y*this.y);
		},
		set r(newvalue) {
			var oldvalue = Math.sqrt(this.x*this.x + this.y*this.y);
			var ratio = newvalue / oldvalue;
			this.x *= ratio;
			this.y *= ratio;
		},
		get theta() {
			return Math.atan2(this.y, this.x);
		}
	};

	console.log(p);
	console.log(p.r);
	p.r = 3;
	console.log(p.x);
	console.log(p.y);
	console.log(p.r);

	console.log(p.theta);

	console.log(Object.getOwnPropertyDescriptor(p, 'r'));
</script>

</html>

































