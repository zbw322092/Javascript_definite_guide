<!DOCTYPE html>
<html>
<body>
</body>

<script type="text/javascript">
	// 不使用函数式编程来求平均值和标准差
	var data = [1,1,3,5,5];
	var total = 0;
	for (var i = 0; i <data.length; i++)
		total += data[i];

	console.log(total); // 15

	var mean = total/data.length;
	total = 0;
	for (var i = 0; i < data.length; i++) {
		var deviation = data[i] - mean;
		total += deviation * deviation;
	}
	var stddev = Math.sqrt(total/(data.length-1));
	console.log(stddev); // 2


	// 同样实现上面的功能，我们看下使用函数式编程写出来的代码
	var sum = function(x,y) {
		return x+y;
	};

	var square = function(x) {
		return x*x;
	};

	var mean2 = data.reduce(sum)/data.length;
	var deviations = data.map(function(x) {
		return x-mean2;
	});
	var stddev2 = Math.sqrt(deviations.map(square).reduce(sum)/(data.length-1));
	console.log(stddev2); // 2


	function t1() {
		console.log("outter this: ", this); // Window
		return function t2() {
			console.log("inner this: ", this); // Window
		}
	}
	t1();
	t1()();

	function not(f) {
		return function() {
			var result = f.apply(this, arguments);
			return !result;
		};
	}

	var even = function(x) {
		return x % 2 === 0;
	};

	var odd = not(even);
	console.log([1,3,5,7].every(odd)); // true



</script>

</html>















































